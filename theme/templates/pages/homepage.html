{% extends "pages/page.html" %}

{% load mezzanine_tags static blog_tags accounts_tags %}


{% block all_content %}
    <!-- Showcase
    ================ -->

    <div id="home-page-carousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <div class="gray-screen"></div>
                <div class="item-caption">
                    <h1><strong>Share your data and models with colleagues</strong></h1>
                    <h4>Upload, share, and access a broad set of hydrologic data types and models. Manage who has access to the content that you share.</h4>
                </div>
                <img class="img-responsive" src="{{ STATIC_URL }}img/carousel/bg1.jpg" alt="Image 1">
            </div>

            <div class="item">
                <div class="gray-screen"></div>
                <div class="item-caption">
                    <h1><strong>Discover</strong></h1>
                    <h4>Discover content shared by your colleagues and other users. Access a broad range of resource types used in hydrology.</h4>
                </div>
                <img class="img-responsive" src="{{ STATIC_URL }}img/carousel/bg2.jpg" alt="Image 2">
            </div>

            <div class="item">
                <div class="gray-screen"></div>
                <div class="item-caption">
                    <h1><strong>Collaborate</strong></h1>
                    <h4>Upload your data or models and share them with other users. You control who has access.</h4>
                </div>
                <img class="img-responsive" src="{{ STATIC_URL }}img/carousel/bg4.jpg" alt="Image 3">
            </div>
        </div>

        <ol class="carousel-controls carousel-indicators">
            <li data-target="#home-page-carousel" data-slide-to="0" class="active">
                <div class="carousel-control-block">
                    <span class="carousel-control-icon glyphicon glyphicon-share "></span>
                    <h5>SHARE</h5>
                </div>
            </li>
            <li data-target="#home-page-carousel" data-slide-to="1">
                <div class="carousel-control-block">
                    <span class="carousel-control-icon glyphicon glyphicon-search"></span>
                    <h5>DISCOVER</h5>
                </div>
            </li>
            <li data-target="#home-page-carousel" data-slide-to="2">
                <div class="carousel-control-block">
                    <span class="carousel-control-icon glyphicon glyphicon-user"></span>
                    <h5>COLLABORATE</h5>
                </div>
            </li>
        </ol>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#home-page-carousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#home-page-carousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div class="row home-page-block">
        <div class="col-xs-12">
            <img class="img-home-art img-responsive" src="{{ STATIC_URL }}img/logo-only.png"
                 alt="HydroShare logo">
            <center><strong><h3>Join the community to start sharing</h3></strong></center>
            <center>
                <span>HydroShare is an online collaboration environment for sharing data, models, and code.</span>
            </center>
            <center><a class="btn btn-primary btn-signup" href="#">Sign up now</a></center>
        </div>
    </div>

    <div>
        <div class="container home-page-block">
            <div class="row">
                <div class="col-xs-12 col-sm-7 slideInBlock">
                    <h2>What you can do with HydroShare</h2>
                    <ul class="list-features">
                        <li>
                            <div class="glyphicon glyphicon-ok checkmark"></div>
                            <span>Share your data and models with colleagues</span></li>
                        <li>
                            <div class="glyphicon glyphicon-ok checkmark"></div>
                            <span>Manage who has access to the content that you share</span></li>
                        <li>
                            <div class="glyphicon glyphicon-ok checkmark"></div>
                            <span>Share, access, visualize and manipulate a broad set of hydrologic data types and models</span>
                        </li>
                        <li>
                            <div class="glyphicon glyphicon-ok checkmark"></div>
                            <span>Access our web services API to facilitate automated and client access to almost all functionality</span></li>
                        <li>
                            <div class="glyphicon glyphicon-ok checkmark"></div>
                            <span>Publish data and models to meet the requirements of your data management plan</span>
                        </li>
                    </ul>
                </div>
                <div class="col-xs-12- col-sm-5 slideInBlock">
                    <img class="img-responsive" src="{{ STATIC_URL }}img/home-page/step2.png"
                         alt="computer">
                </div>
            </div>
        </div>

        <div class="container slideInBlock">
            <h2>How it works</h2>
            <div class="row home-page-block">
                <div class="steps-container">
                    <div class="col-xs-12 col-sm-3 step-wrapper">
                        <div class="step-item active" data-id="0">
                            <div class="step-number">1</div>
                            <span class="carousel-control-icon glyphicon glyphicon-plus"></span>
                            <h4>Create data</h4>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-3 step-wrapper">
                        <div class="step-item" data-id="1">
                            <div class="step-number">2</div>
                            <span class="carousel-control-icon glyphicon glyphicon-upload"></span>
                            <h4>Upload to HydroShare</h4>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-3 step-wrapper">
                        <div class="step-item" data-id="2">
                            <div class="step-number">3</div>
                            <span class="carousel-control-icon glyphicon glyphicon-pencil"></span>
                            <h4>Describe with metadata</h4>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-3 step-wrapper">
                        <div class="step-item" data-id="3">
                            <div class="step-number">4</div>
                            <span class="carousel-control-icon glyphicon glyphicon-share"></span>
                            <h4>Share with colleagues</h4>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row home-page-block description active" data-id="0">
                <div class="col-xs-6">
                    <div class="description-container">
                        <span class="step-description">Collect your data using the same methods you use now. HydroShare supports a broad set of hydrologic data types.</span>
                    </div>
                </div>
                <div class="col-xs-6">
                    <img class="img-responsive img-home-art" src="{{ STATIC_URL }}img/home-page/step1.png"
                         alt="Create data">
                </div>
            </div>

            <div class="row home-page-block description" data-id="1">
                <div class="col-xs-6">
                    <div class="description-container">
                        <span class="step-description">Upload your data files to HydroShare through the web user interface. HydroShare will automatically extract as much metadata as it can from the files you upload.</span>
                    </div>
                </div>
                <div class="col-xs-6">
                    <img class="img-responsive img-home-art" src="{{ STATIC_URL }}img/home-page/step2.png"
                         alt="Create data">
                </div>
            </div>

            <div class="row home-page-block description" data-id="2">
                <div class="col-xs-6">
                    <div class="description-container">
                        <span class="step-description">Use HydroShare's simple metadata entry forms to finish describing your data so that your colleagues can find, access, and interpret it.</span>
                    </div>
                </div>
                <div class="col-xs-6">
                    <img class="img-responsive img-home-art" src="{{ STATIC_URL }}img/home-page/step2.png"
                         alt="Create data">
                </div>
            </div>

            <div class="row home-page-block description" data-id="3">
                <div class="col-xs-6">
                    <div class="description-container">
                        <span class="step-description">You choose who has access to the data and models you have uploaded to HydroShare. You can share with individual users or publish your resources for everyone to access.</span>
                    </div>
                </div>
                <div class="col-xs-6">
                    <img class="img-responsive img-home-art" src="{{ STATIC_URL }}img/home-page/step2.png"
                         alt="Create data">
                </div>
            </div>
        </div>

        <div class="screen-sizes">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-6">
                        {#                    Image credit: Android Design. Used under Creative Commons license.#}
                        {#                    http://developer.android.com/design/style/devices-displays.html#}
                        <img class="img-home-art img-responsive" src="{{ STATIC_URL }}img/da_devices.png"
                             alt="Screen sizes">
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <h2>Available in all your devices</h2>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Fade nav bar background when scroll is at the top
        function fadeNav() {
            var offset = getScrollXY();
            if (offset[1] > 0) {
                $("#hs-nav-bar").css("background-color", "rgb(0, 45, 62)");
                $("#hs-nav-bar").css("border-color", "");
            }
            else {
                $("#hs-nav-bar").css("background-color", "rgba(0, 0, 0, 0.58)");
                $("#hs-nav-bar").css("border-color", "rgba(0, 0, 0, 0)");
            }
        }

        function getScrollXY() {
            var scrOfX = 0, scrOfY = 0;
            if (typeof( window.pageYOffset ) == 'number') {
                //Netscape compliant
                scrOfY = window.pageYOffset;
                scrOfX = window.pageXOffset;
            } else if (document.body && ( document.body.scrollLeft || document.body.scrollTop )) {
                //DOM compliant
                scrOfY = document.body.scrollTop;
                scrOfX = document.body.scrollLeft;
            } else if (document.documentElement && ( document.documentElement.scrollLeft ||
                    document.documentElement.scrollTop )) {
                //IE6 standards compliant mode
                scrOfY = document.documentElement.scrollTop;
                scrOfX = document.documentElement.scrollLeft;
            }

            return [scrOfX, scrOfY];
        }

        $.fn.visible = function (partial) {
            var $t = $(this),
                    $w = $(window),
                    viewTop = $w.scrollTop(),
                    viewBottom = viewTop + $w.height(),
                    _top = $t.offset().top,
                    _bottom = _top + $t.height(),
                    compareTop = partial === true ? _bottom : _top,
                    compareBottom = partial === true ? _top : _bottom;

            return ((compareBottom <= viewBottom) && (compareTop >= viewTop));

        };

        $(document).ready(function () {
            window.onscroll = fadeNav;
            fadeNav();

            // Prevents dropdown form getting dismissed when clicking on items inside
            $('.dropdown-menu').click(function (e) {
                e.stopPropagation();
            });

            $('.step-item').click(function (e) {
                var dataID = $(this).attr("data-id");
                $('.step-item').removeClass("active");
                $(this).addClass("active");

                $('div.description').removeClass("active");
                $('div.description[data-id="' + dataID + '"]').addClass("active");
            });

            $(".slideInBlock").each(function (i, el) {
                var el = $(el);
                if (el.visible(true)) {
                    el.addClass("come-in");
                }
            });

            var win = $(window);
            var allMods = $(".slideInBlock");

// Already visible modules
            allMods.each(function (i, el) {
                var el = $(el);
                if (el.visible(true)) {
                    el.addClass("already-visible");
                }
            });

            win.scroll(function (event) {

                allMods.each(function (i, el) {
                    var el = $(el);
                    if (el.visible(true)) {
                        el.addClass("come-in");
                    }
                });

            });
        });
    </script>


{% endblock %}


